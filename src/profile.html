<!doctype html>
<html>
<head>
	<title>Profile: {{.ProfileName}}</title>
	<link rel="stylesheet" type="text/css" href="/static/profile.css"></link>
	<link rel="stylesheet" type="text/css" href="/static/chosen-0.9.11-12-ga0ca7da.css"></link>
	<script src="/static/jquery-1.9.0.min.js" type="text/javascript"></script>
	<script src="/static/jquery.autosize-1.15.3.js" type="text/javascript"></script>
	<script src="/static/jquery.chosen-0.9.11-12-ga0ca7da.min.js" type="text/javascript"></script>
	<script src="/static/profile.js" type="text/javascript"></script>
</head>
<body>
<div class="profile-name">{{.ProfileName}}</div>
<div class="profileset-link">(<a href="/profiles/">see other profiles...</a>)</div>

<div class="form-question-create-title">New Question</div>
<form class="form-question-create" action="/questions/" method="POST">
	<div class="question-name">
		<label class="question-name-label" for="question-name">Question Name</label>
		<input class="question-name-input" autofocus id="question-name" name="question_name" type="text" list="question-name-list"></input>
		<datalist id="question-name-list">
			{{range .QuestionNames}}
				<option value="{{.}}"></option>
			{{end}}
		</datalist>
	</div>
	<input class="question-submit" value="submit" type="submit"></input>
	<div class="clear">&nbsp;</div>
</form>

<div class="overview-title">Questions (sorted alphabetically)</div>
<div class="overview">
<ol>
{{range .QuestionNames}}
<li><a href="#question-{{.}}">{{.}}</a></li>
{{else}}
<p>No questions.</p>
{{end}}
</ol>
</div>

<div class="profile">
{{range .QuestionGroups}}
<div class="question-group-title">{{.GroupKey}}</div>
<div class="question-group" id="question-group-{{.GroupKey}}">
	{{range .Questions}}
	<div class="question" id="question-{{.Version.String}}">
		<form class="question-form" action="/questions/{{.Version.String}}" method="POST">
			<p class="question-version">{{or .Version.String ""}}</p>
			<div class="question-text">
				<label class="question-text-label" for="question-text-input">Text</label>
				<textarea class="question-text-input" name="question_text">{{or .Text ""}}</textarea>
			</div>
			<div class="question-help">
				<label class="question-help-label" for="question-help-input">Help</label>
				<textarea class="question-help-input" name="question_help">{{or .Help ""}}</textarea>
			</div>
			<div class="question-groupkey">
				<label class="question-groupkey-label" for="question-groupkey-input">GroupKey</label>
				<input class="question-groupkey-input" name="question_groupkey" value="{{or .GroupKey ""}}" type="text"></input>
			</div>
			<div class="question-sortkey">
				<label class="question-sortkey-label" for="question-sortkey-input">SortKey</label>
				<input class="question-sortkey-input" name="question_sortkey" value="{{.SortKey}}" type="text"></input>
			</div>
			<input class="question-submit" value="submit" type="submit"></input>
		</form>
		<div class="clear">&nbsp;</div>
	</div>
	{{end}}
{{else}}
<p>No questions.</p>
{{end}}
</div>
</body>
</html>
